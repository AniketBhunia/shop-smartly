{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/shopping-cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\nfunction CartComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 11);\n    i0.ɵɵelement(1, \"i\", 12);\n    i0.ɵɵtext(2, \" You don't have any items in your cart \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CartComponent_table_5_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 15)(2, \"a\", 16);\n    i0.ɵɵelement(3, \"img\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 18)(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\", 19)(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\", 20)(11, \"mat-form-field\")(12, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_table_5_tr_16_Template_input_ngModelChange_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const cartItem_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(cartItem_r4.productQuantity = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"td\", 22)(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\")(17, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CartComponent_table_5_tr_16_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const cartItem_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.deleteCartItem(cartItem_r4.productId));\n    });\n    i0.ɵɵtext(18, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cartItem_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", \"data:image/jpeg;base64,\" + cartItem_r4.productImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cartItem_r4.productName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(\"$\" + cartItem_r4.productPrice);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", cartItem_r4.productQuantity);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(\"$\" + cartItem_r4.cartTotalPrice * cartItem_r4.productQuantity);\n  }\n}\nfunction CartComponent_table_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 13)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Images\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Product Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, CartComponent_table_5_tr_16_Template, 19, 5, \"tr\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cartList);\n  }\n}\nfunction CartComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"div\", 26)(3, \"h2\", 27);\n    i0.ɵɵtext(4, \"Checkout Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 28)(6, \"div\", 29)(7, \"span\");\n    i0.ɵɵtext(8, \"Sub Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 29)(12, \"span\");\n    i0.ɵɵtext(13, \"Tax\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15, \"$2\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 29)(17, \"span\");\n    i0.ɵɵtext(18, \"Shipping Cost\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\");\n    i0.ɵɵtext(20, \"Free\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(21, \"hr\");\n    i0.ɵɵelementStart(22, \"div\", 30)(23, \"span\");\n    i0.ɵɵtext(24, \"Grand Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 6)(28, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_11_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.payNow());\n    });\n    i0.ɵɵelementStart(29, \"a\", 32);\n    i0.ɵɵelement(30, \"i\", 33);\n    i0.ɵɵtext(31, \" Proceed to Checkout \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(\"$\" + ctx_r2.calculateGrandTotal());\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate(\"$\" + (ctx_r2.calculateGrandTotal() + 2));\n  }\n}\nexport class user {\n  constructor() {\n    this.userName = '';\n    this.userEmail = '';\n    this.userPassword = '';\n    this.userGender = '';\n    this.userPhoneNo = '';\n    this.userAge = null;\n    //addressList:Address[]\n  }\n}\n\nexport class CartComponent {\n  calculateGrandTotal() {\n    this.amount = this.shoppingCart.calculateGrandTotal(this.cartList);\n    console.log(this.amount);\n    return this.amount;\n  }\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.shoppingCart = cartService;\n  }\n  ngOnInit() {\n    this.getCartByID(21);\n  }\n  getCartByID(cart_id) {\n    this.cartService.getUserData(cart_id).subscribe(res => {\n      this.cartList = res;\n      console.log(this.cartList);\n      console.log(this.cartList.length);\n    });\n  }\n  updateCartItem(cartItem) {\n    const updatedItem = {\n      ...cartItem,\n      cartTotalPrice: cartItem.productPrice * cartItem.productQuantity\n    };\n    this.shoppingCart.updateCartItem(updatedItem);\n  }\n  deleteCartItem(productId) {\n    this.shoppingCart.deleteCartItem(productId).subscribe(res => {\n      if (res == true) {\n        alert(\"Product Deleted Successfully\");\n      }\n    });\n    window.location.reload();\n  }\n  payNow() {\n    const RozarpayOptions = {\n      description: 'Shop Smartly',\n      currency: 'INR',\n      amount: this.amount,\n      name: 'Shop Smartly',\n      key: 'rzp_test_hSvndswhybubtG',\n      image: '',\n      prefill: {\n        name: 'Prabhas',\n        email: 'prabhaschandra11@gmail.com',\n        phone: '7633915263'\n      },\n      theme: {\n        color: '#6466e3'\n      },\n      modal: {\n        ondismiss: () => {\n          console.log('dismissed');\n        }\n      }\n    };\n    const successCallback = paymentid => {\n      console.log(paymentid);\n    };\n    const failureCallback = e => {\n      console.log(e);\n    };\n    Razorpay.open(RozarpayOptions, successCallback, failureCallback);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.ShoppingCartService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 12,\n  vars: 3,\n  consts: [[1, \"container\", \"cart-box-main\"], [1, \"row\"], [1, \"col-lg-12\"], [1, \"table-main\", \"table-responsive\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"table\", 4, \"ngIf\"], [1, \"d-flex\", \"justify-content-center\", \"mt-3\"], [\"mat-button\", \"\", \"title\", \"Add More Products\", 1, \"btn\", \"btn-success\"], [\"routerLink\", \"/view_products\"], [1, \"mt-3\"], [\"class\", \"container my-5\", 4, \"ngIf\"], [1, \"text-center\"], [1, \"text-info\", \"font-weight-bold\", \"text-center\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"thumbnail-img\"], [\"href\", \"#\"], [\"alt\", \"\", 1, \"img-fluid\", 2, \"min-width\", \"96px\", \"height\", \"96px\", 3, \"src\"], [1, \"name-pr\"], [1, \"price-pr\"], [1, \"quantity-box\"], [\"matInput\", \"\", \"type\", \"number\", \"name\", \"quantity\", \"size\", \"4\", \"min\", \"0\", \"step\", \"1\", 1, \"c-input-text\", \"qty\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [1, \"total-pr\"], [\"mat-button\", \"\", \"title\", \"Delete\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"container\", \"my-5\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\"], [1, \"col-lg-8\", \"col-md-7\", \"col-sm-12\"], [1, \"h4\", \"text-center\"], [1, \"checkout-details\"], [1, \"detail\", \"d-flex\", \"justify-content-between\"], [1, \"detail\", \"d-flex\", \"justify-content-between\", \"total\"], [1, \"btn\", \"btn-primary\", \"btn-green\", 3, \"click\"], [\"mat-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/checkout\", 1, \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"bi\", \"bi-cart-fill\", \"me-1\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵtemplate(4, CartComponent_p_4_Template, 3, 0, \"p\", 4);\n      i0.ɵɵtemplate(5, CartComponent_table_5_Template, 17, 1, \"table\", 5);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(6, \"div\", 6)(7, \"button\", 7)(8, \"a\", 8);\n      i0.ɵɵtext(9, \" Add More Products \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(10, \"div\", 9);\n      i0.ɵɵtemplate(11, CartComponent_div_11_Template, 32, 2, \"div\", 10);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartList.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartList.length > 0);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartList.length > 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel, i5.MatFormField, i6.MatInput, i7.MatAnchor, i7.MatButton],\n  styles: [\".cart-page-header[_ngcontent-%COMP%] {\\r\\n  background-color: #b8d6d7;\\r\\n  padding: 20px 0;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.cart-page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  flex-direction: column; \\r\\n}\\r\\n\\r\\n.cart-page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  max-width: 100px;\\r\\n}\\r\\n\\r\\n\\r\\n.cart-box-main[_ngcontent-%COMP%] {\\r\\n  margin-top: 30px;\\r\\n}\\r\\n\\r\\n\\r\\n.cart-checkout-card[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  max-width: 400px;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\n\\r\\n.d-flex.justify-content-md-end[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  max-width: 200px; \\r\\n  margin-top: 15px;\\r\\n}\\r\\n\\r\\n\\r\\n.table[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n  padding: 10px;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n  background-color: #f8f9fa; \\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n  border-top: 1px solid #dee2e6; \\r\\n}\\r\\n\\r\\n.thumbnail-img[_ngcontent-%COMP%] {\\r\\n  width: 10%;\\r\\n}\\r\\n\\r\\n.name-pr[_ngcontent-%COMP%] {\\r\\n  width: 20%;\\r\\n}\\r\\n\\r\\n.price-pr[_ngcontent-%COMP%] {\\r\\n  width: 10%;\\r\\n}\\r\\n\\r\\n.quantity-box[_ngcontent-%COMP%] {\\r\\n  width: 15%;\\r\\n}\\r\\n\\r\\n.total-pr[_ngcontent-%COMP%] {\\r\\n  width: 15%;\\r\\n}\\r\\n\\r\\n\\r\\n@media (max-width: 575.98px) {\\r\\n  .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\r\\n    display: none; \\r\\n  }\\r\\n\\r\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    text-align: left;\\r\\n    padding: 5px;\\r\\n  }\\r\\n\\r\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin-bottom: 10px;\\r\\n    border: 1px solid #dee2e6; \\r\\n  }\\r\\n\\r\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]::before {\\r\\n    content: attr(data-label);\\r\\n    font-weight: bold;\\r\\n    display: inline-block;\\r\\n    width: 120px; \\r\\n    margin-right: 10px;\\r\\n  }\\r\\n\\r\\n  .thumbnail-img[_ngcontent-%COMP%], .name-pr[_ngcontent-%COMP%], .price-pr[_ngcontent-%COMP%], .quantity-box[_ngcontent-%COMP%], .total-pr[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n  }\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9jYXJ0LXBhZ2UvY2FydC1wYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0NBQW9DO0FBQ3BDO0VBQ0UseUJBQXlCO0VBQ3pCLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixzQkFBc0IsRUFBRSxzQkFBc0I7QUFDaEQ7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUEseUJBQXlCO0FBQ3pCO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBLHlDQUF5QztBQUN6QztFQUNFLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjs7QUFFQSxnREFBZ0Q7QUFDaEQ7RUFDRSxXQUFXO0VBQ1gsZ0JBQWdCLEVBQUUsNENBQTRDO0VBQzlELGdCQUFnQjtBQUNsQjs7QUFFQSx5Q0FBeUM7QUFDekM7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0FBQzNCOztBQUVBOztFQUVFLGFBQWE7RUFDYixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSx5QkFBeUIsRUFBRSxtREFBbUQ7RUFDOUUsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsNkJBQTZCLEVBQUUsNEJBQTRCO0FBQzdEOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBLHFFQUFxRTtBQUNyRTtFQUNFO0lBQ0UsYUFBYSxFQUFFLDJDQUEyQztFQUM1RDs7RUFFQTtJQUNFLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsWUFBWTtFQUNkOztFQUVBO0lBQ0UsY0FBYztJQUNkLG1CQUFtQjtJQUNuQix5QkFBeUIsRUFBRSw0QkFBNEI7RUFDekQ7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsaUJBQWlCO0lBQ2pCLHFCQUFxQjtJQUNyQixZQUFZLEVBQUUsK0JBQStCO0lBQzdDLGtCQUFrQjtFQUNwQjs7RUFFQTs7Ozs7O0lBTUUsV0FBVztJQUNYLGtCQUFrQjtFQUNwQjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogU3R5bGVzIGZvciB0aGUgY2FydCBwYWdlIGhlYWRlciAqL1xyXG4uY2FydC1wYWdlLWhlYWRlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2I4ZDZkNztcclxuICBwYWRkaW5nOiAyMHB4IDA7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY2FydC1wYWdlLWhlYWRlciAuaGVhZGVyLWNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAvKiBGb3Igc21hbGwgc2NyZWVucyAqL1xyXG59XHJcblxyXG4uY2FydC1wYWdlLWhlYWRlciAuaGVhZGVyLWNvbnRlbnQgLmxvZ28gaW1nIHtcclxuICBtYXgtd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4vKiBTdHlsZXMgZm9yIHRoZSB0YWJsZSAqL1xyXG4uY2FydC1ib3gtbWFpbiB7XHJcbiAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG5cclxuLyogU3R5bGVzIGZvciB0aGUgY2hlY2tvdXQgc3VtbWFyeSBjYXJkICovXHJcbi5jYXJ0LWNoZWNrb3V0LWNhcmQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1heC13aWR0aDogNDAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi8qIFN0eWxlcyBmb3IgdGhlIFwiUHJvY2VlZCB0byBDaGVja291dFwiIGJ1dHRvbiAqL1xyXG4uZC1mbGV4Lmp1c3RpZnktY29udGVudC1tZC1lbmQgLmJ0bi1wcmltYXJ5IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXgtd2lkdGg6IDIwMHB4OyAvKiBBZGp1c3QgdGhlIG1heC13aWR0aCB0byB5b3VyIHByZWZlcmVuY2UgKi9cclxuICBtYXJnaW4tdG9wOiAxNXB4O1xyXG59XHJcblxyXG4vKiBSZXNwb25zaXZlIHN0eWxlcyBmb3IgdGhlIGNhcnQgdGFibGUgKi9cclxuLnRhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG59XHJcblxyXG4udGFibGUgdGhlYWQgdGgsXHJcbi50YWJsZSB0Ym9keSB0ZCB7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi50YWJsZSB0aGVhZCB0aCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgLyogQ2hhbmdlIHRvIHlvdXIgZGVzaXJlZCBoZWFkZXIgYmFja2dyb3VuZCBjb2xvciAqL1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4udGFibGUgdGJvZHkgdGQge1xyXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGVlMmU2OyAvKiBBZGQgYm9yZGVyIGJldHdlZW4gcm93cyAqL1xyXG59XHJcblxyXG4udGh1bWJuYWlsLWltZyB7XHJcbiAgd2lkdGg6IDEwJTtcclxufVxyXG5cclxuLm5hbWUtcHIge1xyXG4gIHdpZHRoOiAyMCU7XHJcbn1cclxuXHJcbi5wcmljZS1wciB7XHJcbiAgd2lkdGg6IDEwJTtcclxufVxyXG5cclxuLnF1YW50aXR5LWJveCB7XHJcbiAgd2lkdGg6IDE1JTtcclxufVxyXG5cclxuLnRvdGFsLXByIHtcclxuICB3aWR0aDogMTUlO1xyXG59XHJcblxyXG4vKiBNZWRpYSBxdWVyeSBmb3Igc2NyZWVucyBzbWFsbGVyIHRoYW4gNTc2cHggKGV4dHJhIHNtYWxsIHNjcmVlbnMpICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA1NzUuOThweCkge1xyXG4gIC50YWJsZSB0aGVhZCB7XHJcbiAgICBkaXNwbGF5OiBub25lOyAvKiBIaWRlIHRoZSB0YWJsZSBoZWFkZXIgb24gc21hbGwgc2NyZWVucyAqL1xyXG4gIH1cclxuXHJcbiAgLnRhYmxlIHRib2R5IHRkIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICB9XHJcblxyXG4gIC50YWJsZSB0Ym9keSB0ciB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2OyAvKiBBZGQgYm9yZGVyIGJldHdlZW4gcm93cyAqL1xyXG4gIH1cclxuXHJcbiAgLnRhYmxlIHRib2R5IHRkOjpiZWZvcmUge1xyXG4gICAgY29udGVudDogYXR0cihkYXRhLWxhYmVsKTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgd2lkdGg6IDEyMHB4OyAvKiBBZGp1c3QgdGhlIHdpZHRoIGFzIG5lZWRlZCAqL1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gIH1cclxuXHJcbiAgLnRodW1ibmFpbC1pbWcsXHJcbiAgLm5hbWUtcHIsXHJcbiAgLnByaWNlLXByLFxyXG4gIC5xdWFudGl0eS1ib3gsXHJcbiAgLnRvdGFsLXByLFxyXG4gIC50YWJsZSB0Ym9keSB0ZCBidXR0b24ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","user","constructor","CartComponent","calculateGrandTotal","amount","shoppingCart","cartList","console","log","cartService","ngOnInit","getCartByID","cart_id","getUserData","subscribe","res","length","updateCartItem","cartItem","updatedItem","cartTotalPrice","productPrice","productQuantity","deleteCartItem","productId","alert","window","location","reload","payNow","RozarpayOptions","description","currency","name","key","image","prefill","email","phone","theme","color","modal","ondismiss","successCallback","paymentid","failureCallback","e","Razorpay","open","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\KIIT\\Desktop\\CapstoneDemoV3\\shop-smartly\\product-webapp\\webapp\\src\\app\\Components\\cart-page\\cart-page.component.html","C:\\Users\\KIIT\\Desktop\\CapstoneDemoV3\\shop-smartly\\product-webapp\\webapp\\src\\app\\Components\\cart-page\\cart-page.component.ts"],"sourcesContent":["<!-- cart-page.component.html -->\r\n<div class=\"container cart-box-main\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n      <div class=\"table-main table-responsive\">\r\n        <p *ngIf=\"cartList.length === 0\" class=\"text-center\">\r\n          <i class=\"text-info font-weight-bold text-center\"></i>\r\n          You don't have any items in your cart\r\n        </p>\r\n        <table *ngIf=\"cartList.length > 0\" class=\"table\">\r\n          <!-- Table header -->\r\n          <thead>\r\n            <tr>\r\n              <th>Images</th>\r\n              <th>Product Name</th>\r\n              <th>Price</th>\r\n              <th>Quantity</th>\r\n              <th>Total</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <!-- Table body with ngFor loop -->\r\n          <tbody>\r\n            <tr *ngFor=\"let cartItem of cartList\">\r\n              <td class=\"thumbnail-img\">\r\n                <a href=\"#\">\r\n                  <img class=\"img-fluid\" [src]=\"'data:image/jpeg;base64,' + cartItem.productImage\" style=\"min-width: 96px; height: 96px\" alt=\"\" />\r\n                </a>\r\n              </td>\r\n              <td class=\"name-pr\">\r\n                <p>{{ cartItem.productName }}</p>\r\n              </td>\r\n              <td class=\"price-pr\">\r\n                <p>{{ '$' + cartItem.productPrice }}</p>\r\n              </td>\r\n              <td class=\"quantity-box\">\r\n                <!-- Quantity input -->\r\n                <mat-form-field>\r\n                  <input matInput type=\"number\" name=\"quantity\" [(ngModel)]=\"cartItem.productQuantity\" size=\"4\" min=\"0\"\r\n                    step=\"1\" class=\"c-input-text qty text\" />\r\n                </mat-form-field>\r\n              </td>\r\n              <td class=\"total-pr\">\r\n                <p>{{ '$' + cartItem.cartTotalPrice * cartItem.productQuantity}}</p>\r\n              </td>\r\n              <td>\r\n                <!-- Delete button -->\r\n                <button mat-button (click)=\"deleteCartItem(cartItem.productId)\" title=\"Delete\" class=\"btn btn-danger\">\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"d-flex justify-content-center mt-3\">\r\n  <!-- Add More Products button -->\r\n  <button mat-button title=\"Add More Products\" class=\"btn btn-success\">\r\n    <a routerLink=\"/view_products\">\r\n      Add More Products\r\n    </a>\r\n  </button>\r\n</div>\r\n<div class=\"mt-3\"></div>\r\n<div class=\"container my-5\" *ngIf=\"cartList.length > 0\">\r\n  <div class=\"row d-flex justify-content-center align-items-center\">\r\n    <div class=\"col-lg-8 col-md-7 col-sm-12\">\r\n      <h2 class=\"h4 text-center\">Checkout Summary</h2>\r\n      <div class=\"checkout-details\">\r\n        <div class=\"detail d-flex justify-content-between\">\r\n          <span>Sub Total</span>\r\n          <span>{{ '$' + calculateGrandTotal() }}</span>\r\n        </div>\r\n        <div class=\"detail d-flex justify-content-between\">\r\n          <span>Tax</span>\r\n          <span>$2</span>\r\n        </div>\r\n        <div class=\"detail d-flex justify-content-between\">\r\n          <span>Shipping Cost</span>\r\n          <span>Free</span>\r\n        </div>\r\n        <hr />\r\n        <div class=\"detail d-flex justify-content-between total\">\r\n          <span>Grand Total</span>\r\n          <span>{{ '$' + (calculateGrandTotal() + 2) }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"d-flex justify-content-center mt-3\">\r\n        <!-- Proceed to Checkout button -->\r\n        <button (click)=\"payNow()\" class=\"btn btn-primary btn-green\">\r\n          <a mat-button color=\"primary\" class=\"d-flex align-items-center justify-content-center\"\r\n            routerLink=\"/checkout\">\r\n            <i class=\"bi bi-cart-fill me-1\"></i>\r\n            Proceed to Checkout\r\n          </a>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Include SweetAlert library -->\r\n<script src=\"https://cdn.jsdelivr.net/npm/sweetalert2@11\"></script>\r\n<script>\r\n  function showSuccessAlert(message) {\r\n    Swal.fire({\r\n      title: 'Success!',\r\n      text: message,\r\n      icon: 'success',\r\n      confirmButtonText: 'OK'\r\n    });\r\n  }\r\n\r\n  function showErrorAlert(message) {\r\n    Swal.fire({\r\n      title: 'Error!',\r\n      text: message,\r\n      icon: 'error',\r\n      confirmButtonText: 'OK'\r\n    });\r\n  }\r\n</script>\r\n","// cart.component.ts\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ShoppingCartService } from 'src/app/Services/shopping-cart.service';\r\nimport { ShoppingCartItem } from 'src/app/cartModel';\r\ndeclare var Razorpay: any;\r\n\r\nexport class user{\r\n  userName:string = '';\r\n  userEmail:string= '';\r\n  userPassword:string= '';\r\n  userGender:string= '';\r\n  userPhoneNo:string= '';\r\n  userAge:number | null = null;\r\n  //addressList:Address[]\r\n}\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart-page.component.html',\r\n  styleUrls: ['./cart-page.component.css'],\r\n})\r\nexport class CartComponent implements OnInit{\r\n  cartList !: ShoppingCartItem[];\r\n  shoppingCart: ShoppingCartService; \r\n  amount!:number;\r\n\r\n calculateGrandTotal(): number {\r\n  this.amount =  this.shoppingCart.calculateGrandTotal(this.cartList);\r\n  console.log(this.amount);\r\n  \r\n  return this.amount\r\n}\r\n  constructor(private cartService: ShoppingCartService) {\r\n    this.shoppingCart = cartService;\r\n   \r\n  }\r\n  ngOnInit(): void {\r\n    this.getCartByID(21)\r\n  }\r\n\r\n  getCartByID(cart_id:any){\r\n    this.cartService.getUserData(cart_id).subscribe((res:any)=>{\r\n      this.cartList = res\r\n      console.log(this.cartList);\r\n      console.log(this.cartList.length)\r\n    })\r\n  }\r\n\r\n  updateCartItem(cartItem: ShoppingCartItem) {\r\n    const updatedItem: ShoppingCartItem = {\r\n      ...cartItem,\r\n      cartTotalPrice: cartItem.productPrice * cartItem.productQuantity,\r\n    };\r\n    this.shoppingCart.updateCartItem(updatedItem);\r\n  }\r\n\r\n  deleteCartItem(productId: any) {\r\n    this.shoppingCart.deleteCartItem(productId).subscribe((res)=>{\r\n      if (res == true ){\r\n        alert(\"Product Deleted Successfully\")\r\n      }\r\n    })\r\n    window.location.reload()\r\n  }\r\n   payNow() {\r\n    const RozarpayOptions = {\r\n      description: 'Shop Smartly',\r\n      currency: 'INR',\r\n      amount: this.amount,\r\n      name: 'Shop Smartly',\r\n      key: 'rzp_test_hSvndswhybubtG',\r\n      image: '',\r\n      prefill: {\r\n        name: 'Prabhas',\r\n        email: 'prabhaschandra11@gmail.com',\r\n        phone: '7633915263'\r\n      },\r\n      theme: {\r\n        color: '#6466e3' \r\n      },\r\n      modal: {\r\n        ondismiss:  () => {\r\n          console.log('dismissed')\r\n        }\r\n      }\r\n    }\r\n\r\n    const successCallback = (paymentid: any) => {\r\n      console.log(paymentid);\r\n    }\r\n\r\n    const failureCallback = (e: any) => {\r\n      console.log(e);\r\n    }\r\n\r\n    Razorpay.open(RozarpayOptions,successCallback, failureCallback)\r\n  }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
