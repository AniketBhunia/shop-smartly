{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/Services/login.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/button\";\nfunction HeaderComponent_ul_11_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 20);\n    i0.ɵɵlistener(\"mousedown\", function HeaderComponent_ul_11_li_1_Template_a_mousedown_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.redirectToDetails(item_r4.product_id));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.product_name);\n  }\n}\nfunction HeaderComponent_ul_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 18);\n    i0.ɵɵtemplate(1, HeaderComponent_ul_11_li_1_Template, 3, 1, \"li\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.searchSuggestion);\n  }\n}\nfunction HeaderComponent_a_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 21);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_a_13_Template_a_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.redirectoCateories(item_r7));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r7);\n  }\n}\nexport class HeaderComponent {\n  constructor(productService, route, login) {\n    this.productService = productService;\n    this.route = route;\n    this.login = login;\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    this.allCategories = [];\n  }\n  ngOnInit() {\n    this.isSellerLoggedIn = this.login.isSellerLoggedIn.value;\n    this.isUserLoggedIn = this.login.isUserLoggedIn.value;\n    // console.log(this.isSellerLoggedIn);\n    this.productService.productList().subscribe(res => {\n      this.contentArray = res.content;\n      console.log(this.contentArray);\n      this.allCategories = Array.from(new Set(this.contentArray.map(item => item.product_category)));\n      console.log(this.allCategories);\n    });\n  }\n  searchProduct(name) {\n    if (name) {\n      const element = name.target;\n      this.productService.searchByName(element.value).subscribe(res => {\n        if (res.length > 5) {\n          res.length = length;\n        }\n        this.searchSuggestion = res;\n      });\n    }\n  }\n  hideSearch() {\n    this.searchSuggestion = undefined;\n  }\n  submitSearch(data) {\n    console.log(data);\n    // this.route.navigate([`details/${data}`])\n  }\n\n  redirectToDetails(id) {\n    const delayMilliseconds = 100;\n    this.route.navigate(['/details', id]);\n    setTimeout(() => {\n      // Reload the window after the specified delay\n      window.location.reload();\n    }, delayMilliseconds);\n  }\n  redirectoCateories(category) {\n    const delayMilliseconds = 100;\n    // event.preventDefault(); // Prevent the default link behavior\n    this.route.navigate(['/view_products', category]);\n    setTimeout(() => {\n      // Reload the window after the specified delay\n      window.location.reload();\n    }, delayMilliseconds);\n  }\n}\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LoginService));\n};\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  decls: 21,\n  vars: 2,\n  consts: [[1, \"header\"], [1, \"logo\"], [\"routerLink\", \"/\"], [\"src\", \"../../assets/Shop Smartly Home Logo.png\", \"alt\", \"Logo\"], [1, \"search-box\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", \"name\", \"search\", \"placeholder\", \"Search\", 3, \"keyup\", \"blur\"], [\"searchInput\", \"\"], [\"mat-button\", \"\", \"matSuffix\", \"\", 3, \"click\"], [\"class\", \"search-suggestion\", 4, \"ngIf\"], [1, \"nav\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"user-actions\"], [1, \"wish-icon\"], [\"routerLink\", \"/mywishlist\", 1, \"fa\", \"fa-heart\", 2, \"color\", \"red\", \"font-size\", \"24px\"], [1, \"spacer\"], [1, \"header-icon\"], [\"routerLink\", \"/login\", \"mat-stroked-button\", \"\", 1, \"login-button\"], [1, \"search-suggestion\"], [4, \"ngFor\", \"ngForOf\"], [3, \"mousedown\"], [3, \"click\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r10 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵelement(3, \"img\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"mat-form-field\", 5)(6, \"input\", 6, 7);\n      i0.ɵɵlistener(\"keyup\", function HeaderComponent_Template_input_keyup_6_listener($event) {\n        return ctx.searchProduct($event);\n      })(\"blur\", function HeaderComponent_Template_input_blur_6_listener() {\n        return ctx.hideSearch();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_button_click_8_listener() {\n        i0.ɵɵrestoreView(_r10);\n        const _r0 = i0.ɵɵreference(7);\n        return i0.ɵɵresetView(ctx.submitSearch(_r0.value));\n      });\n      i0.ɵɵelementStart(9, \"mat-icon\");\n      i0.ɵɵtext(10, \"search\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(11, HeaderComponent_ul_11_Template, 2, 1, \"ul\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 10);\n      i0.ɵɵtemplate(13, HeaderComponent_a_13_Template, 2, 1, \"a\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 12)(15, \"span\", 13);\n      i0.ɵɵelement(16, \"i\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"div\", 16)(19, \"button\", 17);\n      i0.ɵɵtext(20, \"Log In\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ctx.searchSuggestion);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.allCategories);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i2.RouterLink, i5.MatFormField, i5.MatSuffix, i6.MatInput, i7.MatIcon, i8.MatButton],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 175:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(162:3) C:\\\\\\\\Users\\\\\\\\KIIT\\\\\\\\Desktop\\\\\\\\CapstoneDemoV3\\\\\\\\shop-smartly\\\\\\\\product-webapp\\\\\\\\webapp\\\\\\\\src\\\\\\\\app\\\\\\\\Components\\\\\\\\header\\\\\\\\header.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 160 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 161 | \\\\u001b[39m\\\\u001b[33m.spacer\\\\u001b[39m\\\\u001b[33m{\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 162 | \\\\u001b[39m  20px\\\\n \\\\u001b[90m     | \\\\u001b[39m  \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 163 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 164 | \\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n \\t\\n \\t//[_ngcontent-%COMP%]   startup[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n \\t__webpack_modules__[175]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=header.component.css.map*/\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HeaderComponent","constructor","productService","route","login","ngOnInit","isSellerLoggedIn","value","isUserLoggedIn","productList","subscribe","res","contentArray","content","console","log","allCategories","Array","from","Set","map","item","product_category","searchProduct","name","element","target","searchByName","length","searchSuggestion","hideSearch","undefined","submitSearch","data","redirectToDetails","id","delayMilliseconds","navigate","setTimeout","window","location","reload","redirectoCateories","category","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\KIIT\\Desktop\\CapstoneDemoV3\\shop-smartly\\product-webapp\\webapp\\src\\app\\Components\\header\\header.component.html","C:\\Users\\KIIT\\Desktop\\CapstoneDemoV3\\shop-smartly\\product-webapp\\webapp\\src\\app\\Components\\header\\header.component.ts"],"sourcesContent":["<header class=\"header\">\r\n  <div class=\"logo\">\r\n    <a routerLink=\"/\">\r\n      <img src=\"../../assets/Shop Smartly Home Logo.png\" alt=\"Logo\">\r\n    </a>\r\n  </div>\r\n\r\n  <div class=\"search-box\">\r\n    <mat-form-field appearance=\"fill\">\r\n      <!--  <input matInput placeholder=\"Search\" name=\"search\" [(ngModel)]=\"search\"> -->\r\n      <input matInput #searchInput (keyup)=\"searchProduct($event)\" name=\"search\" (blur)=\"hideSearch()\"\r\n        placeholder=\"Search\" />\r\n      <button mat-button matSuffix (click)=\"submitSearch(searchInput.value)\">\r\n        <mat-icon>search</mat-icon>\r\n      </button>\r\n    </mat-form-field>\r\n    <ul class=\"search-suggestion\" *ngIf=\"searchSuggestion\">\r\n      <li *ngFor=\"let item of searchSuggestion\">\r\n        <a (mousedown)=\"redirectToDetails(item.product_id)\">{{item.product_name}}</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n  <div class=\"nav\">\r\n    <a *ngFor=\"let item of allCategories\" (click)=\"redirectoCateories(item)\">{{item}}</a>\r\n  </div>\r\n\r\n\r\n\r\n  <div class=\"user-actions\">\r\n    <span class=\"wish-icon\"><i class='fa fa-heart' style='color: red; font-size: 24px;'\r\n        routerLink=\"/mywishlist\"></i></span>\r\n    <div class=\"spacer\"></div> <!-- Add a spacer for gap -->\r\n    <div class=\"header-icon\">\r\n      <button routerLink=\"/login\" mat-stroked-button class=\"login-button\">Log In</button>\r\n    </div>\r\n  </div>\r\n</header>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoginService } from 'src/app/Services/login.service';\r\nimport { ProductService } from 'src/app/Services/product.service';\r\nimport { Product } from 'src/app/data.types';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n  // eslint-disable-next-line @typescript-eslint/ban-types\r\n  allCategories: string[] = []\r\n  contentArray!: Product[]\r\n  searchSuggestion: undefined | Product[]\r\n  isSellerLoggedIn !: boolean\r\n  isUserLoggedIn !: boolean\r\n  constructor(private productService: ProductService, private route: Router , private login :LoginService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isSellerLoggedIn = this.login.isSellerLoggedIn.value\r\n    this.isUserLoggedIn = this.login.isUserLoggedIn.value\r\n    // console.log(this.isSellerLoggedIn);\r\n    \r\n    this.productService.productList().subscribe((res) => {\r\n      this.contentArray = res.content\r\n      console.log(this.contentArray);\r\n\r\n      this.allCategories = Array.from(new Set(this.contentArray.map((item: any) => item.product_category)))\r\n      console.log((this.allCategories));\r\n\r\n    })\r\n\r\n  }\r\n\r\n  searchProduct(name: any) {\r\n    if (name) {\r\n      const element = name.target as HTMLInputElement\r\n      this.productService.searchByName(element.value).subscribe((res) => {\r\n        if (res.length > 5) {\r\n          res.length = length\r\n        }\r\n        this.searchSuggestion = res\r\n      })\r\n\r\n    }\r\n  }\r\n  hideSearch() {\r\n    this.searchSuggestion = undefined\r\n  }\r\n  submitSearch(data: any) {\r\n    console.log(data)\r\n    // this.route.navigate([`details/${data}`])\r\n  }\r\n  redirectToDetails(id: any) {\r\n    const delayMilliseconds = 100;\r\n    this.route.navigate(['/details',id])\r\n    setTimeout(() => {\r\n      // Reload the window after the specified delay\r\n      window.location.reload()\r\n    }, delayMilliseconds);\r\n  }\r\n  redirectoCateories(category: string): void {\r\n    const delayMilliseconds = 100;\r\n    // event.preventDefault(); // Prevent the default link behavior\r\n    this.route.navigate(['/view_products', category]);\r\n    setTimeout(() => {\r\n      // Reload the window after the specified delay\r\n      window.location.reload()\r\n    }, delayMilliseconds);\r\n  }\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
